{% load static %}
<!DOCTYPE html>
<head>
<script type="text/javascript"
        src="https://maps.googleapis.com/maps/api/js?key={{api_key}}&libraries=places&language=en">
</script>
<!-- Basic Page Needs
================================================== -->
<title>Libraries</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<!-- CSS
================================================== -->
<link rel="stylesheet" href='{% static "css/home.css" %}'/>
<link rel="stylesheet" href="{% static "css/style.css" %}">
<link rel="stylesheet" href="{% static "css/main-color.css" %}" id="colors">
</head>

<body>
<!-- Wrapper -->
<div id="wrapper">

<!-- Header Container
================================================== -->
{% include 'includes/header.html' %}
<!-- Header Container / End -->

<!-- Banner
================================================== -->
<div class="main-search-container" id="bg" style="background-image: url({%  static 'images/library_background.jpg' %});">
	<div class="main-search-inner">
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<h2>Find Nearby Libraries</h2>
					<h4>Explore the most popular libraries near you!</h4>
					<div class="main-search-input">
						<div class="main-search-input-item">
                            <input type="text" id="searchLibraries" class="form-control mb-2" name="q" placeholder="Enter the location...">
						</div>
                        <button class="button" type="submit" onclick="getQuery(event)">Search</button>
					</div>
                    <br/>
                    <span class="text-content" id="homeText">Try searching "London"...</span>
				</div>
			</div>
		</div>
	</div>
</div>
</div>

<!-- Scripts
================================================== -->
<script type="text/javascript">
        var input = document.getElementById('searchLibraries');
        var autocomplete = new google.maps.places.Autocomplete(input);
</script>
<script type="text/javascript">
    function getQuery(e) {
        e.preventDefault();
        let url = "http://127.0.0.1:8000/libraries/?q=";
        let query = document.getElementById("searchLibraries").value;
        window.location.href = url + query;
    }
    getQuery()
</script>
<script data-cfasync="false" src="{% static "cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js" %}"></script>
<script type="text/javascript" src="{% static "scripts/jquery-3.4.1.min.js" %}"></script>
<script type="text/javascript" src="{% static "scripts/jquery-migrate-3.1.0.min.js" %}"></script>
<script type="text/javascript" src="{% static "scripts/mmenu.min.js" %}"></script>
<script type="text/javascript" src="{% static "scripts/chosen.min.js" %}"></script>
<script type="text/javascript" src="{% static "scripts/slick.min.js" %}"></script>
<script type="text/javascript" src="{% static "scripts/rangeslider.min.js" %}"></script>
<script type="text/javascript" src="{% static "scripts/magnific-popup.min.js" %}"></script>
<script type="text/javascript" src="{% static "scripts/waypoints.min.js" %}"></script>
<script type="text/javascript" src="{% static "scripts/counterup.min.js" %}"></script>
<script type="text/javascript" src="{% static "scripts/jquery-ui.min.js" %}"></script>
<script type="text/javascript" src="{% static "scripts/tooltips.min.js" %}"></script>
<script type="text/javascript" src="{% static "scripts/custom.js" %}"></script>

<!-- Leaflet // Docs: https://leafletjs.com/ -->
<script src="{% static "scripts/leaflet.min.js" %}"></script>

<!-- Leaflet Maps Scripts -->
<script src="{% static "scripts/leaflet-markercluster.min.js" %}"></script>
<script src="{% static "scripts/leaflet-gesture-handling.min.js" %}"></script>
<script src="{% static "scripts/leaflet-listeo.js" %}"></script>

</body>
</html>